# Комментировать данный файл себе дороже, поэтому
# при наличии вопросов - написать мне и уточнить,
# что именно не понятно.

<LoginScreen>:
    GridLayout:
        cols: 1
        rows: 3
        spacing: '10dp'
        padding: dp(50), dp(200)
        AnchorLayout:
            anchor_x: 'center'
            anchor_y: 'top'
            MDTextField:
                id: username
                multiline: False
                mode: "fill"
                hint_text: 'Введите ваш логин'
                required: True
                helper_text_mode: "on_error"
                on_text_validate: root.focus_passwd()
        AnchorLayout:
            anchor_x: 'center'
            anchor_y: 'top'
            MDTextField:
                id: passwd
                multiline: False
                mode: "fill"
                hint_text: 'Введите ваш пароль'
                password: True
                required: True
                helper_text_mode: "on_error"
                on_text_validate: root.on_login()
        AnchorLayout:
            anchor_x: 'center'
            MDFlatButton:
                id: login
                md_bg_color: app.theme_cls.primary_color
                text: 'Войти'
                on_press: root.on_login()

<MainScreenTeacher>:
    MDNavigationLayout:
        MDScreenManager:
            MDScreen:
                BoxLayout:
                    orientation: 'vertical'
                    MDTopAppBar:
                        title: "Электронная среда - преподаватель"
                        left_action_items: [["menu", lambda x: nav_drawer.set_state("open")]]
                        elevation: 2
                    PageLayout:
                        spacing: "10dp"
                        MDCard:
                            md_bg_color: app.theme_cls.bg_dark
                            orientation: "vertical"
                            padding: "10dp"
                            size_hint: 1, None
                            MDLabel:
                                text: "Закрытие Замоскворецкой линии"
                            MDSeparator:
                                height: "1dp"
                            MDLabel:
                                multiline: True
                                text: "С 12 ноября на 6 месяцев прекращается движение поездов по Замоскворецкой линии на участке Автозаводская – Орехово. Пожалуйста, пользуйтесь бесплатными автобусами КМ1, КМ2, e80 до остановки «Технопарк». Маршрут 888к продлевается до станции метро 'Автозаводская'. Просим вас закладывать дополнительное время на дорогу, так как автобусы могут быть перегружены."
                        MDCard:
                            md_bg_color: app.theme_cls.bg_dark
                            orientation: "vertical"
                            padding: "8dp"
                            size_hint: 1, None
                            MDLabel:
                                text: "В 2022 году начал работу трек «MobileDev» в рамках Student IT Community"
                            MDSeparator:
                                height: "1dp"
                            MDLabel:
                                text: """Студенты факультета ИТ вместе с Андреем Алексеевичем Блощуком, экспертом трека, начали разработку приложения Magazine. Что было сделано:\nUI-фрагмент для приложения;\nВывод списков в RecyclerView;\nРеализация ViewHolder и адаптера для заполнения RecyclerView;\nОтклик на нажатия элементов списка;\nРазмещение объектов в ConstraintLayout;\nПоддержка встроенной базы данных SQLite и поддержка меню;\nСоздание новых записей в базе через прямые запросы. Трек «MobileDev» продолжает свою работу в 2023 году, и ты можешь присоединиться! Как попасть на трек? Приходи в деканат ФИТ."""
                        MDCard:
                            orientation: "vertical"
                            md_bg_color: app.theme_cls.bg_dark
                            padding: "8dp"
                            size_hint: 1, None
                            MDLabel:
                                text: "Друзья, мы поздравляем вас с наступающим Новым годом!"
                            MDSeparator:
                                height: "1dp"
                            MDLabel:
                                text: "Новый год – это всегда море новых возможностей, которые надо только вовремя использовать. Мы знаем, что у нас самая крутая аудитория, а это значит, что у вас все получится!\nУчитесь, развивайтесь, знакомьтесь с новыми людьми, не бойтесь пробовать и никогда не сдавайтесь!\nСпасибо за то, что провели 2022 год с семьей МУИВ! Оставайтесь с нами, будет ещё круче!"
                        MDCard:
                            orientation: "vertical"
                            md_bg_color: app.theme_cls.bg_dark
                            padding: "8dp"
                            size_hint: 1, None
                            MDLabel:
                                text: ""
                            MDSeparator:
                                height: "1dp"
                            MDLabel:
                                text: ""
                        MDCard:
                            orientation: "vertical"
                            md_bg_color: app.theme_cls.bg_dark
                            padding: "8dp"
                            size_hint: 1, None
                            MDLabel:
                                text: ""
                            MDSeparator:
                                height: "1dp"
                            MDLabel:
                                text: ""
        MDNavigationDrawer:
            id: nav_drawer
            BoxLayout:
                orientation: 'vertical'
                spacing: '10dp'
                MDLabel:
                    size_hint_y: None
                    height: self.texture_size[1]
                    text: "Текст"
                    font_style: "Subtitle1"
                MDLabel:
                    size_hint_y: None
                    height: self.texture_size[1]
                    text: "Текст2"
                    font_style: "Caption"
                ScrollView:
                    MDList:
                        OneLineIconListItem:
                            text: "Главная"
                            on_press:root.openMainTeacher()
                            IconLeftWidget:
                                icon: "home"
                        OneLineIconListItem:
                            text: "Расписание"
                            on_press:root.openCalendarTeacher()
                            IconLeftWidget:
                                icon: "calendar"
                        OneLineIconListItem:
                            text: "Задания"
                            on_press:root.openTasksTeacher()
                            IconLeftWidget:
                                icon: "lead-pencil"
                        OneLineIconListItem:
                            text: "Новости"
                            IconLeftWidget:
                                icon: "newspaper"
                        OneLineIconListItem:
                            text: "Чат"
                            IconLeftWidget:
                                icon: "chat"
                        OneLineIconListItem:
                            text: "Настройки"
                            on_press:root.openSettingsTeacher()
                            IconLeftWidget:
                                icon: "settings-helper"
                        OneLineIconListItem:
                            text: "FAQ"
                            IconLeftWidget:
                                icon: "frequently-asked-questions"
                        OneLineIconListItem:
                            text: "Помощь"
                            IconLeftWidget:
                                icon: "help"
                        OneLineIconListItem:
                            text: "Выйти"
                            on_press:root.logout()
                            IconLeftWidget:
                                icon: "logout"

<TasksScreenTeacher>:
    on_enter:root.update()
    MDNavigationLayout:
        MDScreenManager:
            MDScreen:
                BoxLayout:
                    orientation: 'vertical'
                    spacing: '10dp'
                    MDTopAppBar:
                        id:toolbar
                        title: "Электронная среда - преподаватель"
                        left_action_items: [["menu", lambda x: nav_drawer.set_state("open")]]
                        elevation: 1
                    AnchorLayout:
                        anchor_x: 'center'
                        anchor_y: 'top'
                        MDRaisedButton:
                            text: "Добавить задание"
                            on_press:root.addTask()
                    ScrollView:
                        MDSelectionList:
                            id: tasksTeacher
                            on_selected: root.onSelected(*args)
                            on_unselected: root.onUnselected(*args)
                            on_selected_mode: root.setSelectionMode(*args)

        MDNavigationDrawer:
            id: nav_drawer
            BoxLayout:
                orientation: 'vertical'
                spacing: '10dp'
                MDLabel:
                    size_hint_y: None
                    height: self.texture_size[1]
                    text: "Текст"
                    font_style: "Subtitle1"
                MDLabel:
                    size_hint_y: None
                    height: self.texture_size[1]
                    text: "Текст2"
                    font_style: "Caption"
                ScrollView:
                    MDList:
                        OneLineIconListItem:
                            text: "Главная"
                            on_press:root.openMainTeacher()
                            IconLeftWidget:
                                icon: "home"
                        OneLineIconListItem:
                            text: "Расписание"
                            on_press:root.openCalendarTeacher()
                            IconLeftWidget:
                                icon: "calendar"
                        OneLineIconListItem:
                            text: "Задания"
                            on_press:root.openTasksTeacher()
                            IconLeftWidget:
                                icon: "lead-pencil"
                        OneLineIconListItem:
                            text: "Новости"
                            IconLeftWidget:
                                icon: "newspaper"
                        OneLineIconListItem:
                            text: "Чат"
                            IconLeftWidget:
                                icon: "chat"
                        OneLineIconListItem:
                            text: "Настройки"
                            on_press:root.openSettingsTeacher()
                            IconLeftWidget:
                                icon: "settings-helper"
                        OneLineIconListItem:
                            text: "FAQ"
                            IconLeftWidget:
                                icon: "frequently-asked-questions"
                        OneLineIconListItem:
                            text: "Помощь"
                            IconLeftWidget:
                                icon: "help"
                        OneLineIconListItem:
                            text: "Выйти"
                            on_press:root.logout()
                            IconLeftWidget:
                                icon: "logout"


<CalendarScreenTeacher>:
    MDNavigationLayout:
        MDScreenManager:
            MDScreen:
                BoxLayout:
                    orientation: 'vertical'
                    MDTopAppBar:
                        title: "Электронная среда - преподаватель"
                        left_action_items: [["menu", lambda x: nav_drawer.set_state("open")]]
                        elevation: 1
                    AnchorLayout:
                        anchor_x: 'center'
                        anchor_y: 'top'
                        MDFlatButton:
                            text: "Выбрать день для показа расписания"
                            on_press: root.openDate()
                    MDList:
                        id: schedule
    MDNavigationDrawer:
        id: nav_drawer
        BoxLayout:
            orientation: 'vertical'
            spacing: '10dp'
            MDLabel:
                size_hint_y: None
                height: self.texture_size[1]
                text: "Текст"
                font_style: "Subtitle1"
            MDLabel:
                size_hint_y: None
                height: self.texture_size[1]
                text: "Текст2"
                font_style: "Caption"
            ScrollView:
                MDList:
                    OneLineIconListItem:
                        text: "Главная"
                        on_press:root.openMainTeacher()
                        IconLeftWidget:
                            icon: "home"
                    OneLineIconListItem:
                        text: "Расписание"
                        on_press:root.openCalendarTeacher()
                        IconLeftWidget:
                            icon: "calendar"
                    OneLineIconListItem:
                        text: "Задания"
                        on_press:root.openTasksTeacher()
                        IconLeftWidget:
                            icon: "lead-pencil"
                    OneLineIconListItem:
                        text: "Новости"
                        IconLeftWidget:
                            icon: "newspaper"
                    OneLineIconListItem:
                        text: "Чат"
                        IconLeftWidget:
                            icon: "chat"
                    OneLineIconListItem:
                        text: "Настройки"
                        on_press:root.openSettingsTeacher()
                        IconLeftWidget:
                            icon: "settings-helper"
                    OneLineIconListItem:
                        text: "FAQ"
                        IconLeftWidget:
                            icon: "frequently-asked-questions"
                    OneLineIconListItem:
                        text: "Помощь"
                        IconLeftWidget:
                            icon: "help"
                    OneLineIconListItem:
                        text: "Выйти"
                        on_press:root.logout()
                        IconLeftWidget:
                            icon: "logout"

<SettingsScreenTeacher>:
    MDNavigationLayout:
        MDScreenManager:
            MDScreen:
                BoxLayout:
                    orientation: 'vertical'
                    MDTopAppBar:
                        title: "Электронная среда - преподаватель"
                        left_action_items: [["menu", lambda x: nav_drawer.set_state("open")]]
                        elevation: 1
                    ScrollView:
                        MDList:
                            OneLineListItem:
                                text: "Темная/светлая тема"
                                on_press: app.switchThemeStyle()
        MDNavigationDrawer:
            id: nav_drawer
            BoxLayout:
                orientation: 'vertical'
                spacing: '10dp'
                MDLabel:
                    size_hint_y: None
                    height: self.texture_size[1]
                    text: "Текст"
                    font_style: "Subtitle1"
                MDLabel:
                    size_hint_y: None
                    height: self.texture_size[1]
                    text: "Текст2"
                    font_style: "Caption"
                ScrollView:
                    MDList:
                        OneLineIconListItem:
                            text: "Главная"
                            on_press:root.openMainTeacher()
                            IconLeftWidget:
                                icon: "home"
                        OneLineIconListItem:
                            text: "Расписание"
                            on_press:root.openCalendarTeacher()
                            IconLeftWidget:
                                icon: "calendar"
                        OneLineIconListItem:
                            text: "Задания"
                            on_press:root.openTasksTeacher()
                            IconLeftWidget:
                                icon: "lead-pencil"
                        OneLineIconListItem:
                            text: "Новости"
                            IconLeftWidget:
                                icon: "newspaper"
                        OneLineIconListItem:
                            text: "Чат"
                            IconLeftWidget:
                                icon: "chat"
                        OneLineIconListItem:
                            text: "Настройки"
                            on_press:root.openSettingsTeacher()
                            IconLeftWidget:
                                icon: "settings-helper"
                        OneLineIconListItem:
                            text: "FAQ"
                            IconLeftWidget:
                                icon: "frequently-asked-questions"
                        OneLineIconListItem:
                            text: "Помощь"
                            IconLeftWidget:
                                icon: "help"
                        OneLineIconListItem:
                            text: "Выйти"
                            on_press:root.logout()
                            IconLeftWidget:
                                icon: "logout"

<MainScreen>:
    MDNavigationLayout:
        MDScreenManager:
            MDScreen:
                BoxLayout:
                    orientation: 'vertical'
                    MDTopAppBar:
                        title: "Электронная среда"
                        left_action_items: [["menu", lambda x: nav_drawer.set_state("open")]]
                        elevation: 2
                    Widget:
        MDNavigationDrawer:
            id: nav_drawer
            BoxLayout:
                orientation: 'vertical'
                spacing: '10dp'
                MDLabel:
                    size_hint_y: None
                    height: self.texture_size[1]
                    text: "Текст"
                    font_style: "Subtitle1"
                MDLabel:
                    size_hint_y: None
                    height: self.texture_size[1]
                    text: "Текст2"
                    font_style: "Caption"
                ScrollView:
                    MDList:
                        OneLineIconListItem:
                            text: "Главная"
                            on_press:root.openMain()
                            IconLeftWidget:
                                icon: "home"
                        OneLineIconListItem:
                            text: "Расписание"
                            on_press:root.openCalendar()
                            IconLeftWidget:
                                icon: "calendar"
                        OneLineIconListItem:
                            text: "Задания"
                            on_press:root.openTasks()
                            IconLeftWidget:
                                icon: "lead-pencil"
                        OneLineIconListItem:
                            text: "Новости"
                            IconLeftWidget:
                                icon: "newspaper"
                        OneLineIconListItem:
                            text: "Чат"
                            IconLeftWidget:
                                icon: "chat"
                        OneLineIconListItem:
                            text: "Настройки"
                            on_press:root.openSettings()
                            IconLeftWidget:
                                icon: "settings-helper"
                        OneLineIconListItem:
                            text: "FAQ"
                            IconLeftWidget:
                                icon: "frequently-asked-questions"
                        OneLineIconListItem:
                            text: "Помощь"
                            IconLeftWidget:
                                icon: "help"
                        OneLineIconListItem:
                            text: "Выйти"
                            on_press:root.logout()
                            IconLeftWidget:
                                icon: "logout"

<CalendarScreen>:
    MDNavigationLayout:
        MDScreenManager:
            MDScreen:
                BoxLayout:
                    orientation: 'vertical'
                    MDTopAppBar:
                        title: "Электронная среда"
                        left_action_items: [["menu", lambda x: nav_drawer.set_state("open")]]
                        elevation: 1
                    AnchorLayout:
                        anchor_x: 'center'
                        anchor_y: 'top'
                        MDFlatButton:
                            text: "Выбрать день для показа расписания"
                            on_press: root.openDate()
                    MDList:
                        id: schedule

        MDNavigationDrawer:
            id: nav_drawer
            BoxLayout:
                orientation: 'vertical'
                spacing: '10dp'
                MDLabel:
                    size_hint_y: None
                    height: self.texture_size[1]
                    text: "Текст"
                    font_style: "Subtitle1"
                MDLabel:
                    size_hint_y: None
                    height: self.texture_size[1]
                    text: "Текст2"
                    font_style: "Caption"
                ScrollView:
                    MDList:
                        OneLineIconListItem:
                            text: "Главная"
                            on_press:root.openMain()
                            IconLeftWidget:
                                icon: "home"
                        OneLineIconListItem:
                            text: "Расписание"
                            on_press:root.openCalendar()
                            IconLeftWidget:
                                icon: "calendar"
                        OneLineIconListItem:
                            text: "Задания"
                            on_press:root.openTasks()
                            IconLeftWidget:
                                icon: "lead-pencil"
                        OneLineIconListItem:
                            text: "Новости"
                            IconLeftWidget:
                                icon: "newspaper"
                        OneLineIconListItem:
                            text: "Чат"
                            IconLeftWidget:
                                icon: "chat"
                        OneLineIconListItem:
                            text: "Настройки"
                            on_press:root.openSettings()
                            IconLeftWidget:
                                icon: "settings-helper"
                        OneLineIconListItem:
                            text: "FAQ"
                            IconLeftWidget:
                                icon: "frequently-asked-questions"
                        OneLineIconListItem:
                            text: "Помощь"
                            IconLeftWidget:
                                icon: "help"
                        OneLineIconListItem:
                            text: "Выйти"
                            on_press:root.logout()
                            IconLeftWidget:
                                icon: "logout"

<TasksScreen>:
    on_enter:root.update()
    MDNavigationLayout:
        MDScreenManager:
            MDScreen:
                BoxLayout:
                    orientation: 'vertical'
                    spacing: "10dp"
                    MDTopAppBar:
                        title: "Электронная среда"
                        left_action_items: [["menu", lambda x: nav_drawer.set_state("open")]]
                        elevation: 1
                    ScrollView:
                        BoxLayout:
                            adaptive_height: True
                            orientation: 'vertical'
                            spacing: "10dp"
                            id: tasksStud
        MDNavigationDrawer:
            id: nav_drawer
            BoxLayout:
                orientation: 'vertical'
                spacing: '10dp'
                MDLabel:
                    size_hint_y: None
                    height: self.texture_size[1]
                    text: "Текст"
                    font_style: "Subtitle1"
                MDLabel:
                    size_hint_y: None
                    height: self.texture_size[1]
                    text: "Текст2"
                    font_style: "Caption"
                ScrollView:
                    MDList:
                        OneLineIconListItem:
                            text: "Главная"
                            on_press:root.openMain()
                            IconLeftWidget:
                                icon: "home"
                        OneLineIconListItem:
                            text: "Расписание"
                            on_press:root.openCalendar()
                            IconLeftWidget:
                                icon: "calendar"
                        OneLineIconListItem:
                            text: "Задания"
                            on_press:root.openTasks()
                            IconLeftWidget:
                                icon: "lead-pencil"
                        OneLineIconListItem:
                            text: "Новости"
                            IconLeftWidget:
                                icon: "newspaper"
                        OneLineIconListItem:
                            text: "Чат"
                            IconLeftWidget:
                                icon: "chat"
                        OneLineIconListItem:
                            text: "Настройки"
                            on_press:root.openSettings()
                            IconLeftWidget:
                                icon: "settings-helper"
                        OneLineIconListItem:
                            text: "FAQ"
                            IconLeftWidget:
                                icon: "frequently-asked-questions"
                        OneLineIconListItem:
                            text: "Помощь"
                            IconLeftWidget:
                                icon: "help"
                        OneLineIconListItem:
                            text: "Выйти"
                            on_press:root.logout()
                            IconLeftWidget:
                                icon: "logout"

<SettingsScreen>:
    MDNavigationLayout:
        MDScreenManager:
            MDScreen:
                BoxLayout:
                    orientation: 'vertical'
                    MDTopAppBar:
                        title: "Электронная среда"
                        left_action_items: [["menu", lambda x: nav_drawer.set_state("open")]]
                        elevation: 1
                    ScrollView:
                        MDList:
                            OneLineListItem:
                                text: "Темная/светлая тема"
                                on_press: app.switchThemeStyle()
        MDNavigationDrawer:
            id: nav_drawer
            BoxLayout:
                orientation: 'vertical'
                spacing: '10dp'
                MDLabel:
                    size_hint_y: None
                    height: self.texture_size[1]
                    text: "Текст"
                    font_style: "Subtitle1"
                MDLabel:
                    size_hint_y: None
                    height: self.texture_size[1]
                    text: "Текст2"
                    font_style: "Caption"
                ScrollView:
                    MDList:
                        OneLineIconListItem:
                            text: "Главная"
                            on_press:root.openMain()
                            IconLeftWidget:
                                icon: "home"
                        OneLineIconListItem:
                            text: "Расписание"
                            on_press:root.openCalendar()
                            IconLeftWidget:
                                icon: "calendar"
                        OneLineIconListItem:
                            text: "Задания"
                            on_press:root.openTasks()
                            IconLeftWidget:
                                icon: "lead-pencil"
                        OneLineIconListItem:
                            text: "Новости"
                            IconLeftWidget:
                                icon: "newspaper"
                        OneLineIconListItem:
                            text: "Чат"
                            IconLeftWidget:
                                icon: "chat"
                        OneLineIconListItem:
                            text: "Настройки"
                            on_press:root.openSettings()
                            IconLeftWidget:
                                icon: "settings-helper"
                        OneLineIconListItem:
                            text: "FAQ"
                            IconLeftWidget:
                                icon: "frequently-asked-questions"
                        OneLineIconListItem:
                            text: "Помощь"
                            IconLeftWidget:
                                icon: "help"
                        OneLineIconListItem:
                            text: "Выйти"
                            on_press:root.logout()
                            IconLeftWidget:
                                icon: "logout"
